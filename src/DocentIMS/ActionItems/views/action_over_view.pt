<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="DocentIMS.ActionItems"
      metal:use-macro="context/main_template/macros/master">

  <body>
        <metal:content-core fill-slot="content-core">
          <div tal:define="fields view/get_fields|None">
              <!--table class="pat-xdatatables pat-tablesorter stacktable listing table-responsive" data-pat-datatables="pageLength: 50; pagingType: simple"-->
            <table class="listing pat-datatables listing" data-pat-datatables="pageLength: 50">
              <thead>
                <tr>
                  <tal:repeat tal:repeat="field fields">
                    <th>${field/row_title|None}</th>

                  </tal:repeat>
                </tr>
              </thead>
              <tbody>
                <tr tal:repeat="item context/results|context/getFolderContents">
                  <tal:obj tal:define="obj item/getObject">

                    <tal:repeat tal:repeat="field fields">
                      <td tal:define="val python:getattr(obj, field['row_field'], '')">
                        <a href="${item/getURL}" tal:omit-tag="python: field['row_field']!='title'">
                          <span tal:condition="python: val==False"> No </span>
                          <span tal:condition="python: val==True"> âœ“ Yes </span>
                          <span tal:condition="python: val != False and val != True">${val}</span>
                        </a>
                    </td>
                    </tal:repeat>

                  </tal:obj>
                </tr>
              </tbody>
              <table>
            </div>
            <style>
              .priority-1 span { color: red; padding: 1px 5px}
              .priority-2 span { color: orange; padding: 1px 5px}
              .priority-3 span  {color:  green; padding: 1px 5px}
            </style>
        </metal:content-core>
</body>
</html>
